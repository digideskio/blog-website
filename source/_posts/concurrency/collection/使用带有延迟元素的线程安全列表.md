category: 
- concurrency
tag:
- collection
title: DelayQueue使用带有延迟元素的线程安全列表
---
#DelayQueue

`DelayQueue`鏄竴涓敮鎸佸欢鏃惰幏鍙栧厓绱犵殑鏃犵晫闃诲闃熷垪銆傞槦鍒椾娇鐢╜PriorityQueue`鏉ュ疄鐜般€傞槦鍒椾腑鐨勫厓绱犲繀椤诲疄鐜癉elayed鎺ュ彛,鍦ㄥ垱寤哄厓绱犳椂鍙互鎸囧畾澶氫箙鎵嶈兘浠庨槦鍒椾腑鑾峰彇褰撳墠鍏冪礌銆傚彧鏈夊湪寤惰繜鏈熸弧鏃舵墠鑳戒粠闃熷垪涓彁鍙栧厓绱犮€傛垜浠彲浠ュ皢`DelayQueue`杩愮敤鍦ㄤ互涓嬪簲鐢ㄥ満鏅細

缂撳瓨绯荤粺鐨勮璁★細鍙互鐢╜DelayQueue`淇濆瓨缂撳瓨鍏冪礌鐨勬湁鏁堟湡锛屼娇鐢ㄤ竴涓嚎绋嬪惊鐜煡璇DelayQueue`锛屼竴鏃﹁兘浠巂DelayQueue`涓幏鍙栧厓绱犳椂锛岃〃绀虹紦瀛樻湁鏁堟湡鍒颁簡銆傚畾鏃朵换鍔¤皟搴︺€備娇鐢╜DelayQueue`淇濆瓨褰撳ぉ灏嗕細鎵ц鐨勪换鍔″拰鎵ц鏃堕棿锛屼竴鏃︿粠`DelayQueue`涓幏鍙栧埌浠诲姟灏卞紑濮嬫墽琛岋紝浠庢瘮濡俆imerQueue灏辨槸浣跨敤`DelayQueue`瀹炵幇鐨勩€傞槦鍒椾腑鐨凞elayed蹇呴』瀹炵幇compareTo鏉ユ寚瀹氬厓绱犵殑椤哄簭銆傛瘮濡傝寤舵椂鏃堕棿鏈€闀跨殑鏀惧湪闃熷垪鐨勬湯灏?

涓€涓棤鐣岄樆濉為槦鍒楋紝鍙湁鍦ㄥ欢鏃舵湡婊℃椂鎵嶈兘浠庝腑鎻愬彇鍏冪礌銆傚鏋滄病鏈夊厓绱犲埌杈惧欢鏃舵湡锛屽垯娌℃湁澶村厓绱?

`DelayQueue`閲屽瓨鏀剧殑鍏冪礌蹇呴』瀹炵幇Delayed鎺ュ彛(璇ユ帴鍙ｄ娇瀵硅薄绉颁负寤惰繜瀵硅薄).

瀹炵幇`Delayed`鎺ュ彛鐨勫璞?鍒颁簡鎸囧畾鏃ユ湡灏嗗己鍒舵墽琛宍compareTo(Delayed o),getDelay(TimeUnit unit)`杩欎咯涓柟娉?
