category: 
- concurrency
tag:
- 并发集合
title: DelayQueue使用带有延迟元素的线程安全列表
---
# DelayQueue
一个支持延时获取元素的无界阻塞队列。队列使用PriorityQueue来实现。队列中的元素必须实现Delayed接口，
在创建元素时可以指定多久才能从队列中获取当前元素。只有在延迟期满时才能从队列中提取元素。我们可以将DelayQueue运用在以下应用场景：

缓存系统的设计：可以用DelayQueue保存缓存元素的有效期，使用一个线程循环查询DelayQueue，一旦能从DelayQueue中获取元素时，表示缓存有效期到了。 定时任务调度。使用DelayQueue保存当天将会执行的任务和执行时间，一旦从DelayQueue中获取到任务就开始执行，从比如TimerQueue就是使用DelayQueue实现的。队列中的Delayed必须实现compareTo来指定元素的顺序。比如让延时时间最长的放在队列的末尾

一个无界阻塞队列，只有在延时期满时才能从中提取元素。如果没有元素到达延时期，则没有头元素


DelayQueue里存放的元素必须实现Delayed接口(该接口使对象称为延迟对象).
实现Delayed接口的对象,到了指定日期将强制执行compareTo(Delayed o),getDelay(TimeUnit unit)这俩个方法

