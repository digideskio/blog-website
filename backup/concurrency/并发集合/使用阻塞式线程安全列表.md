category: 
- concurrency
tag:
- 并发集合
title: LinkedBlockingDeque使用阻塞式线程安全列表
---
# LinkedBlockingDeque

LinkedBlockingDeque是一个由链表结构组成的双向阻塞队列.

## 双向队列
所谓双向队列指的你可以从队列的两端插入和移出元素.双端队列因为多了一个操作队列的入口,在多线程同时入队时,也就减少了一半的竞争.

## 相比其他的阻塞队列
LinkedBlockingDeque多了
```
addFirst,
addLast,
offerFirst,
offerLast,
peekFirst,
peekLast
```
等方法.

* 以First单词结尾的方法,表示插入,获取（peek）或移除双端队列的第一个元素.
* 以Last单词结尾的方法,表示插入,获取或移除双端队列的最后一个元素.
* 插入方法add等同于addLast,
* 移除方法remove等效于removeFirst.
* take方法却等同于takeFirst (不知道是不是Jdk的bug,使用时还是用带有First和Last后缀的方法更清楚).

在初始化LinkedBlockingDeque时可以初始化队列的容量 ,用来防止其再扩容时过渡膨胀.另外双向阻塞队列可以运用在“工作窃取”模式中.

> 阻塞式并发列表与非阻塞式并发列表主要区别在于：
> 阻塞式并发列表在插入或者删除元素时,如果列表已满或者列表为空,操作不会立即被执行,而是将调用这个操作的线程阻塞队列直到操作可以执行成功.

* takeFirst();  // 返回并移除列表中的第一个元素,列表为空线程将阻塞
* takeLast();   // 返回并移除列表中的最后一个元素,列表为空线程将阻塞
* pollFirst();  // 返回并移除列表中的第一个元素,列表为空返回null
* pollLast();  // 返回并移除列表中的最后一个元素,列表为空返回null

* getFirst();   // 返回列表中的第一个元素但不移除,列表为空抛出NoSuchElementException
* getLast();    // 返回列表中的最后一个元素但不移除,列表为空抛出NoSuchElementException
* peek();       // 返回列表中的第一个元素但不移除,列表为空返回null
* peekFirst();  // 返回列表中的第一个元素但不移除,列表为空返回null
* peekLast();   // 返回列表中的最后一个元素但不移除,列表为空返回null
